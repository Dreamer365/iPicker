/*!
 * iPicker v2.1.0
 * Copyright (C) 2020, ZG
 * Released under the MIT license.
 */
!function(q,p){"object"===typeof exports&&"undefined"!==typeof module?module.exports=p():"function"===typeof define&&define.amd?define(p):(q=q||self,q.iPicker=p())}("undefined"!==typeof window?window:this,function(q){var p=window.document,t=p.head,c={type:function(a){return{}.toString.call(a).replace(/(\[object |\])/g,"").toLowerCase()},isObj:function(a){return!("object"!==c.type(a)||!Object.keys(a).length)},isNum:function(a){return"number"===c.type(a)},isFunc:function(a){return"function"===c.type(a)},random:function(){return Math.random().toString(36).substr(2,10)},merge:function(a,b){var c={},e;for(e in b){var r=a[e];c[e]=0===r?r:r||b[e]}return c},getElem:function(a){return"string"===typeof a?f(a):a.length?a:[a]},classFn:function(a,b,g){if("contains"===g)return a.classList[g](b);c.getElem(a).forEach(function(a){b.split(" ").forEach(function(b){a.classList[g](b)})})},toggleClass:function(a,b){c.classFn(a,b,"toggle")},addClass:function(a,b){c.classFn(a,b,"add")},removeClass:function(a,b){c.classFn(a,b,"remove")},hasClass:function(a,b){return c.classFn(a,b,"contains")},setCSS:function(a,b){c.getElem(a).forEach(function(a){for(var c in b)a.style[c]=b[c]})},getCSS:function(a,b){return p.defaultView.getComputedStyle(a,null).getPropertyValue(b)}},h=function(a,b){return(b||p).querySelector(a)},f=function(a,b){return[].slice.call((b||p).querySelectorAll(a))},z={theme:"select",data:{},level:2,width:200,maxHeight:300,disabled:!1,selected:[],activeColor:"#00b8ff",placeholder:["\u7701","\u5e02","\u533a"],onSelect:function(){}},m={},l=function(a,b){function g(a){c.getElem(a).forEach(function(a){a.classList.contains("iPicker-list-show")&&(a.classList.add("iPicker-list-hide"),a.classList.remove("iPicker-list-show"),a.previousElementSibling.classList.remove("iPicker-result-active"))})}var e="picker_"+c.random(),r=f(a);if(a&&b&&r.length&&c.isObj(b)&&"object"===typeof b.data){var d=c.merge(b||{},z),l="select"===d.theme,A="cascader"===d.theme,F=c.isFunc(d.onSelect),q="";if(c.isNum(d.level)&&0<=d.level&&3>d.level){if(l)for(b=0;b<parseInt(d.level)+1;b++)q+='\r\n\x3cdiv class\x3d"iPicker-container"\x3e\r\n\x3cdiv class\x3d"iPicker-result"\x3e\r\n\x3cinput type\x3d"text" readonly autocomplete\x3d"off" spellcheck\x3d"false"\x3e\r\n\x3ci\x3e\x3c/i\x3e\r\n\x3c/div\x3e\r\n\x3cdiv class\x3d"iPicker-list"\x3e\r\n\x3cul\x3e\x3c/ul\x3e\r\n\x3c/div\x3e\r\n\x3c/div\x3e\r\n';A&&(q='\r\n\x3cdiv class\x3d"iPicker-container"\x3e\r\n\x3cdiv class\x3d"iPicker-result"\x3e\r\n\x3cinput type\x3d"text" readonly autocomplete\x3d"off" spellcheck\x3d"false"\x3e\r\n\x3ci\x3e\x3c/i\x3e\r\n\x3c/div\x3e\r\n\x3cdiv class\x3d"iPicker-list"\x3e\r\n\x3cul\x3e\x3c/ul\x3e\r\n\x3c/div\x3e\r\n\x3c/div\x3e\r\n');(b=h("#iPicker-style"))&&t.removeChild(b);t.insertAdjacentHTML("afterbegin",'\x3cstyle id\x3d"iPicker-style"\x3e.iPicker-container,.iPicker-container *{box-sizing:border-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent}.iPicker-container *{margin:0;padding:0}.iPicker-container{position:relative;float:left;width:200px;height:34px;font-size:14px;cursor:pointer}.iPicker-container:not(:last-child){margin-right:10px}.iPicker-result{overflow:hidden;height:34px;border:#dfdfdf solid 1px;border-radius:4px;background:#fff;color:#000;white-space:nowrap;transition:border-color .2s}.iPicker-result input{pointer-events:none;width:100%;cursor:pointer;display:block;height:32px;background-color:#fff;border:none;outline:0;padding:0 30px 0 12px}.iPicker-result-active:not(.iPicker-disabled),.iPicker-result:not(.iPicker-disabled):hover{border:'+z.activeColor+' solid 1px}.iPicker-result i{position:absolute;top:0;right:0;display:block;width:30px;height:34px}.iPicker-result i::before{position:absolute;top:0;right:2px;display:block;width:28px;height:100%;background:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTc2OTk1MjQ3Njc4IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjI2NTAiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTUzNS40NjY2NjcgODEyLjhsNDUwLjEzMzMzMy01NjMuMmMxNC45MzMzMzMtMTkuMiAyLjEzMzMzMy00OS4wNjY2NjctMjMuNDY2NjY3LTQ5LjA2NjY2N0g2MS44NjY2NjdjLTI1LjYgMC0zOC40IDI5Ljg2NjY2Ny0yMy40NjY2NjcgNDkuMDY2NjY3bDQ1MC4xMzMzMzMgNTYzLjJjMTIuOCAxNC45MzMzMzMgMzQuMTMzMzMzIDE0LjkzMzMzMyA0Ni45MzMzMzQgMHoiIHAtaWQ9IjI2NTEiIGZpbGw9IiMwMDAwMDAiPjwvcGF0aD48L3N2Zz4\x3d) center no-repeat;content:"";opacity:.5;transition:transform .3s;transform:scale(.55)}.iPicker-result-active i::before{transform:scale(.55) rotate(180deg)}.iPicker-disabled{cursor:not-allowed;background:#e7e7e7;color:#898989}.iPicker-disabled input{background:#e7e7e7;color:#898989}.iPicker-result.iPicker-disabled i{opacity:.5}.iPicker-list{position:relative;z-index:10;display:none;overflow-x:hidden;overflow-y:auto;overscroll-behavior:contain;padding:8px 0;background:#fff;box-shadow:rgba(0,0,0,.1) 0 2px 6px;transform-origin:center top;animation-timing-function:ease-in-out;animation-duration:.3s;animation-fill-mode:forwards}.iPicker-container:not(.iPicker-cascader) .iPicker-list{max-height:300px}.iPicker-cascader .iPicker-list{overflow-y:hidden;padding:0}.iPicker-list li,.iPicker-list ul{width:100%;display:block;margin:0;padding:0}.iPicker-list ul{float:left}.iPicker-cascader ul{width:200px;overflow-y:auto;overscroll-behavior:contain;padding:8px 0}.iPicker-cascader ul:not(:last-child){border-right:#e6e6e6 solid 1px}.iPicker-list li{position:relative;display:block;padding:6px 12px;list-style:none;transition:.15s;overflow:hidden;clear:both;word-break:break-all}.iPicker-list li *{pointer-events:none}.iPicker-list li span{display:block;float:left}.iPicker-list li i{display:block;position:absolute;top:50%;right:10px;width:8px;height:8px;margin-top:-4px;border-top:#666 solid 1px;border-right:#bbb solid 1px;transform:scale(.8) rotate(45deg)}.iPicker-list li.iPicker-list-active,.iPicker-list li:hover{background:#f5f5f5;color:'+z.activeColor+"}.iPicker-list-active{cursor:default}.iPicker-list.iPicker-list-hide,.iPicker-list.iPicker-list-show{display:block}.iPicker-list.iPicker-list-show{animation-name:iPickerShow}.iPicker-list.iPicker-list-hide{animation-name:iPickerHide}@keyframes iPickerShow{from{opacity:0;transform:scaleY(0)}to{opacity:1;transform:scaleY(1)}}@keyframes iPickerHide{from{opacity:1;transform:scaleY(1)}to{opacity:0;transform:scaleY(0)}}\x3c/style\x3e");var B=!0,w=c.random();d.activeColor!==z.activeColor&&h("style",t).insertAdjacentHTML("afterend",'\x3cstyle id\x3d"iPicker-style-'+w+'" class\x3d"iPicker-style-custom"\x3e.iPicker-container[data-id-'+w+"] .iPicker-result-active:not(.iPicker-disabled),.iPicker-container[data-id-"+w+"] .iPicker-result:not(.iPicker-disabled):hover{border-color:"+d.activeColor+"}.iPicker-container[data-id-"+w+"] .iPicker-list li.iPicker-list-active,.iPicker-container[data-id-"+w+"] .iPicker-list li:hover{color:"+d.activeColor+"}\x3c/style\x3e");r.forEach(function(b){function e(a){n?a():c.isFunc(d.data.then)?d.data.then(function(b){n=b;a(n)}):(n=d.data,a(n))}function r(a,b){function c(){if(n[a])for(var b in n[a])u+='\x3cli data-code\x3d"'+b+'" data-name\x3d"'+n[a][b]+'"\x3e\x3cspan\x3e'+n[a][b]+"\x3c/span\x3e"+("cascader"===d.theme?"\x3ci\x3e\x3c/i\x3e":"")+"\x3c/li\x3e";return u}var u="";if(n)return c();e(function(a){b&&b(c())})}b.innerHTML=q;b.iPickerOptions=d;b.cacheTarget=a;var m=f(".iPicker-container",b),t=f(".iPicker-result",b),D=f("input",b),k=f(".iPicker-list",b);m.forEach(function(a,b){a.dataset.index=b;d.activeColor!==z.activeColor&&a.setAttribute("data-id-"+w,"")});A&&c.addClass(m,"iPicker-cascader");var v=0;c.isNum(d.maxHeight)&&(v=(46<=d.maxHeight?parseInt(d.maxHeight):46)+"px",l&&c.setCSS(k,{maxHeight:v}));c.isNum(d.width)&&c.setCSS(m,{width:(90<=d.width?parseInt(d.width):90)+"px"});if(d.disabled){var x=[];!0===d.disabled?x=[0,1,2]:Array.isArray(d.disabled)&&d.disabled.length&&(x=d.disabled);x.forEach(function(a){0<=a&&2>=a&&t.forEach(function(b,d){d===a&&c.addClass(b,"iPicker-disabled")})})}l&&Array.isArray(d.placeholder)&&d.placeholder.length&&d.placeholder.forEach(function(a,b){D[b]&&D[b].setAttribute("placeholder",d.placeholder[b])});A&&("string"!==typeof d.placeholder&&(d.placeholder="\u8bf7\u9009\u62e9\u5730\u533a"),D[0].setAttribute("placeholder",d.placeholder));k.forEach(function(a){a.dataset.id=c.random()});t.forEach(function(a){a.addEventListener("click",function(){var b=a.nextElementSibling;g('.iPicker-list:not([data-id\x3d"'+b.dataset.id+'"])');c.hasClass(a,"iPicker-disabled")||(c.toggleClass(a,"iPicker-result-active"),c.hasClass(b,"iPicker-list-show")?g(b):(c.addClass(b,"iPicker-list-show"),c.removeClass(b,"iPicker-list-hide")))})});if(A){var x=h("ul",k[0]),E=c.getCSS(x,"width");v&&c.setCSS(x,{maxHeight:v});c.setCSS(k[0],{width:E});var y,C;b.onclick=null;k[0].addEventListener("click",function(a){a=a.target;if("li"===a.nodeName.toLowerCase()){var b=a.parentNode,e=a.dataset.code;b.nextElementSibling&&!function H(){var a=b.nextElementSibling;a&&(k[0].removeChild(a),b.nextElementSibling&&H())}();f("ul",k[0]).length<d.level+1?(k[0].insertAdjacentHTML("beforeend","\x3cul\x3e"+r(e)+"\x3c/ul\x3e"),e=f("ul",k[0]),c.setCSS(k[0],{width:e.length*parseInt(E)+"px"}),v&&c.setCSS(e,{minHeight:v,maxHeight:v}),f("ul",k[0]).length===d.level+1&&f("i",h("ul:last-child",k[0])).forEach(function(a){a.parentNode.removeChild(a)})):g(k);c.removeClass(f("li",b),"iPicker-list-active");c.addClass(a,"iPicker-list-active");y=[];C=[];f(".iPicker-list-active",k[0]).forEach(function(a){var b=h("span",a).innerText;a=a.dataset.code;y.push(b);C.push(a);D[0].value=y.join(" / ")});var u=[];C.forEach(function(a,b){u.push({code:a,name:y[b]})});t[0].selected={code:C,name:y,all:u};F&&B&&d.onSelect.call(a,C,y,u)}})}l&&(b.onclick=function(a){var b=a.target;if("li"===b.nodeName.toLowerCase()){a=b.parentNode.parentNode;var e=a.parentNode;c.removeClass(f("li",b.parentNode),"iPicker-list-active");c.addClass(b,"iPicker-list-active");var u=a.previousElementSibling;u.selected={code:b.dataset.code,name:b.innerText};h("input",u).value=b.innerText;g(a);m.forEach(function(a,b){b>e.dataset.index&&(h(".iPicker-result",a).selected=void 0,h("input",a).value="",h("ul",a).innerHTML="")});var k=e.nextElementSibling;if(k)var l=window.setTimeout(function(){window.clearTimeout(l);h("ul",k).innerHTML=r(b.dataset.code)},0);if(F&&B){var n=[],p=[];t.forEach(function(a){var b=a.selected||{};a=b.code;b=b.name;a&&n.push(a);b&&p.push(b)});var q=[];n.forEach(function(a,b){q.push({code:a,name:p[b]})});d.onSelect.call(b,n,p,q)}}});var n=null;r("86",function(a){h("ul",k[0]).innerHTML=a});A&&0===d.level&&f("i",k[0]).forEach(function(a){a.parentNode.removeChild(a)});e(function(){if(Array.isArray(d.selected)&&d.selected.length){var a=function(){(function G(a){window.clearTimeout(c);B=!1;if(a!==d.selected.length){var g="[data-"+(d.selected[a].match(/\d/)?"code":"name")+'\x3d"'+d.selected[a]+'"]';h(g,b).click();a++;B=!0;window.setTimeout(G,0,a)}else B=!0})(0)},c=null;a();b.cacheTrigger=a}});p.addEventListener("click",function(a){m.forEach(function(b,d){a.target===b||b.contains(a.target)||g(k[d])})})});m[e]=r;return e}}};l.get=function(a,b){function c(a){var b=[],c=e[0],g=f(".iPicker-result",c);h(".iPicker-cascader",c)?b=(g[0].selected||{})["all"!==a?a:"all"]:g.forEach(function(c){c=c.selected||{};"all"!==a?b.push(c[a]):b.push({code:c.code,name:c.name})});return(b||[]).filter(function(a){return"object"===typeof a?a.code&&a.name&&a:a})}var e=m[a];if(a&&e){if(!b||"code"===b)return c("code");if("name"===b)return c("name");if("all"===b)return c("all")}};l.clear=function(a){var b=m[a];a&&b&&b.forEach(function(a){f(".iPicker-result",a).forEach(function(a){a.selected=void 0});f("input",a).forEach(function(a){a.value=""});f(".iPicker-list-active",a).forEach(function(a){c.removeClass(a,"iPicker-list-active")});f(".iPicker-container",a).forEach(function(a,b){b&&(h("ul",a).innerHTML="")});h(".iPicker-cascader",a)&&(f("ul",a).forEach(function(a,b){b&&a.parentNode.removeChild(a)}),c.setCSS(h(".iPicker-list",a),{width:c.getCSS(h("ul",a),"width")}))})};l.reset=function(a){var b=m[a];a&&b&&b.forEach(function(b){b.cacheTrigger?b.cacheTrigger():l.clear(a)})};l.destroy=function(a){var b=m[a];a&&b&&(b.forEach(function(a){a.innerHTML="";delete a.iPickerOptions;delete a.cacheTarget;delete a.cacheTrigger}),delete m[a],h(".iPicker-container")||f("#iPicker-style, .iPicker-style-custom").forEach(function(a){t.removeChild(a)}))};l.enabled=function(a,b){var g=m[a];a&&g&&g.forEach(function(a){var e=f(".iPicker-disabled",a);e.length&&(!b||h(".iPicker-cascader",a)?c.removeClass(e,"iPicker-disabled"):Array.isArray(b)&&b.length&&b.forEach(function(a){0<=a&&2>=a&&c.removeClass(e[a],"iPicker-disabled")}))})};l.disabled=function(a,b){var g=m[a];a&&g&&g.forEach(function(a){var e=f(".iPicker-result",a);e.length&&(!b||h(".iPicker-cascader",a)?c.addClass(e,"iPicker-disabled"):Array.isArray(b)&&b.length&&b.forEach(function(a){0<=a&&2>=a&&c.addClass(e[a],"iPicker-disabled")}))})};return l});